CC = gcc
CFLAG = -Wall -Wextra
LDFLAG = -lOpenCL
SOURCE_MATRIX = MatrixMultiplicationTiled
SOURCE_SMBM = SharedMemoryBitmap
SOURCE_WMB = WaveformsMemoryBitmap

$(SOURCE_WMB): $(SOURCE_WMB).c
	$(CC) $(CFLAG) $(SOURCE_WMB).c -o $(SOURCE_WMB) $(LDFLAG)

$(SOURCE_SMBM): $(SOURCE_SMBM).c
	$(CC) $(CFLAG) $(SOURCE_SMBM).c -o $(SOURCE_SMBM) $(LDFLAG)

$(SOURCE_MATRIX): $(SOURCE_MATRIX).c
	$(CC) $(CFLAG) $(SOURCE_MATRIX).c -o $(SOURCE_MATRIX) $(LDFLAG)

run: $(SOURCE_MATRIX) $(SOURCE_SMBM) $(SOURCE_WMB)
	./$(SOURCE_MATRIX)
	./$(SOURCE_SMBM)
	./$(SOURCE_WMB)

clean:
	rm -f $(SOURCE_MATRIX) $(SOURCE_SMBM) $(SOURCE_WMB)